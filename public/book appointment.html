<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment</title>
    <link rel="stylesheet" href="book appointment.css">
</head>
<body>
    
    <!-- Navbar Section -->
    <div class="navbar">
        <h1 class="logo">Doctor+</h1>
        <div class="search">
            <button class="search-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                </svg>
            </button>
            <input class="input" type="search" placeholder="Search Doctor">
        </div>

        <div class="nav-items">
            <div id="items">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="services.html">Service</a></li>
                    <li><a href="aboutUs.html">About Us</a></li>
                    <li><a href="register.html">Register</a></li>
                    <li><a href="doctors.html">Doctors</a></li>
                    <li><a href="user profile.html">Profile</a></li>     
                </ul>
            </div>
            <button class="btn"><a href="login.html">Login</a></button>
        </div>
    </div>
    <!-- End of Navbar -->

    <!-- Main Section -->
    <div class="main">
        <p class="title">Book Your Appointment</p>
        <p class="title-info">
            Great doctor if you nedd your family 
            memeber to get effective immediate <br>
            assistance, emergency treatment or a simple consultation
        </p>
        <div class="appointment-card">
            <p class="title1">Book Your Appointment</p>
            <form class="form" action="#">
                <div class="namebox">
                    <label for="#" id="title2">Patient Name</label>
                    <input id="book-name" type="text" placeholder="Patient Name: " required>
                </div>
                <div class="details">
                    <div>
                        <label for="#" id="title2"> Departmenet</label>
                        <select id="update-dept">
                            <option>Select Departmenet</option>
                            <option value="Eye Care">Eye Care</option>
                            <option value="Nurologist">Nurologist</option>
                            <option value="Cardiologist">Cardiologist</option>
                            <option value="Dermatologist">Dermatologist</option>
                        </select>
                    </div>

                    <div>
                        <label for="#" id="title2"> Doctor</label>
                        <select id="update-bio">
                            <option>Select Doctor</option>
                            <option value="Dr Zeena">Dr Zeena</option>
                            <option value="Dr Lolita">Dr Lolita</option>
                            <option value="Dr Cristine">Dr Cristine</option>
                            <option value="Dr Jhon">Dr Jhon</option>
                        </select>
                    </div>
                </div>
    
                <div class="personal-info">
                    <div>
                        <label for="#"  id="title2">Your Email</label>
                        <input id="book-email" type="email" placeholder="Your Email " required>
                    </div>
                    <div>
                        <label for="#" id="title2">Your Phone</label>
                        <input id="update-phone" type="number" placeholder="Your Phone" required>
                    </div>
                </div>
    
                <div class="opinion">
                    <label for="#" id="title2">Comments</label>
                    <input id="update-password" cols="30" rows="10" placeholder="Your Message:">
                </div>

                <button id="update-btn-submit">Book Appointment</button>
            </form>
        </div> 
    </div>
    <!-- Main Section Ends -->
    
    <!-- Footer Section -->
    <footer class="footer">
        <div class="footer-container">
            <h1 class="footer-logo">Doctor+</h1>
            <p id="thank-note">
                Thank you for visiting my website, 
                and I look forward to being a part 
                of your wellness journey. Let's 
                thrive together!
            </p>
            <div class="contact">
                <div id="mobile">
                    <a href="#"><img src="./assets/download (3).png" alt="call-logo" width="20px"></a>
                    <p>+91-1234567890</p>
                </div>
                <div id="mail">
                    <a href="#"><img src="./assets/download (4).png" alt="mail-logo" width="20px"></a>
                    <p>contact@gmail.com</p>
                </div>
                <div id="social-media">
                    <a href="#"><img src="./assets/download (1).png" alt="facebook-logo" width="26px"></a>
                    <a href="#"><img src="./assets/download.png" alt="instagram-logo" width="26px"></a>
                    <a href="#"><img src="./assets/download (2).png" alt="youtube-logo" width="26px"></a>
                </div>
            </div>
        </div>
        
        <div class="footer-privacy">
            <div class="line">
                <hr>
            </div>
            <div class="privacy">
                <p>@Copyright 2023. All Rights Reserved</p>
                <div>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Term of Service</a>
                    <a href="#">Legal Info</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- End of Footer -->

    <script>
        const form = {
            name:document.getElementById("book-name"),
        mob: document.getElementById("update-phone"),
        comment: document.getElementById("update-password"),
        email: document.getElementById("book-email"),
        doct:document.getElementById("update-bio"),
        department:document.getElementById("update-dept"),
        submit: document.getElementById("update-btn-submit"),
};
let button = form.submit.addEventListener("click", (e) => {
  e.preventDefault();
  const id = localStorage.getItem("userid");
  const login = `http://localhost:3000/book`;

  fetch(login, {
    method: "POST",
    headers: {
      Accept: "application/json",
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
            userid:id,
            name:form.name.value,
        mob:form.mob.value,
        comment:form.comment.value,
        email : form.email.value,
        doct:form.doct.value,
        department:form.department.value
    }),
  })
    .then((response) => response.json())
    .then((data) => {
        alert("Booked succesfully");
      if (data.error) {
        alert("Error"); 
      } else {
      }
    })
    .catch((err) => {
     alert("Error"); 
    });
});
    </script>

    <script src="script.js"></script>

</body>
</html>